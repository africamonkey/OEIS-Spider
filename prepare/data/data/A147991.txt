{
    "number": 147991,
    "data": "1,2,4,5,7,11,13,14,16,20,22,32,34,38,40,41,43,47,49,59,61,65,67,95,97,101,103,113,115,119,121,122,124,128,130,140,142,146,148,176,178,182,184,194,196,200,202,284,286,290,292,302,304,308,310,338,340,344,346",
    "name": "Sequence S such that 1 is in S and if x is in S, then 3x-1 and 3x+1 are in S.",
    "comment": [
        "Positive numbers that can be written in balanced ternary without a 0 trit. - _J. Hufford_, Jun 30 2015"
    ],
    "link": [
        "Robert Israel, <a href=\"/A147991/b147991.txt\">Table of n, a(n) for n = 1..10000</a>",
        "Gevorg Hmayakyan, <a href=\"http://math.stackexchange.com/questions/1918281/generalizing-a-trig-identity\">Trig identity for a(n)</a>"
    ],
    "formula": [
        "a(n) = 3*a(n/2) - 1 if n>=2 is even, 3*a((n-1)/2) + 1 if n is odd, a(0)=0. - _Robert Israel_, May 05 2014",
        "G.f. g(x) satisfies g(x) = 3*(x+1)*g(x^2) + x/(1+x). - _Robert Israel_, May 05 2014",
        "Product_{j=0..n-1} cos(3^j) = 2^(-n+1)*Sum_{i=2^(n-1)..2^n-1} cos(a(i)). - _Gevorg Hmayakyan_, Jan 15 2017",
        "Sum_{i=2^(n-1)..2^n-1} cos(a(i)/3^(n-1)*Pi/2) = 0. - _Gevorg Hmayakyan_, Jan 15 2017"
    ],
    "example": [
        "0th generation: 1;",
        "1st generation: 2 4;",
        "2nd generation: 5 7 11 13."
    ],
    "maple": [
        "A147991:= proc(n) option remember; if n::even then 3*procname(n/2)-1 else 3*procname((n-1)/2)+1 fi end proc:",
        "A147991(1):= 1:",
        "[seq](A147991(i),i=1..1000); # _Robert Israel_, May 05 2014"
    ],
    "mathematica": [
        "nn=346; s={1}; While[s1=Select[Union[s, 3*s-1, 3*s+1], # <= nn &];  s != s1, s=s1]; s"
    ],
    "program": [
        "(Haskell)",
        "import Data.Set (singleton, insert, deleteFindMin)",
        "a147991 n = a147991_list !! (n-1)",
        "a147991_list = f $ singleton 1 where",
        "   f s = m : (f $ insert (3*m - 1) $ insert (3*m + 1) s')",
        "         where (m, s') = deleteFindMin s",
        "-- _Reinhard Zumkeller_, Feb 21 2012, Jan 23 2011"
    ],
    "keyword": "nonn",
    "offset": "1,2",
    "author": "_Clark Kimberling_, Dec 07 2008",
    "references": 8,
    "revision": 45,
    "time": "2017-01-18T23:07:09-05:00",
    "created": "2009-01-09T03:00:00-05:00"
}