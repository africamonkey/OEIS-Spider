{
    "number": 249665,
    "data": "1,1,1,2,6,14,28,56,118,254,541,1140,2401,5074,10738,22711,48001,101447,214446,453355,958395,2025963,4282685,9053286,19138115,40456779,85522862,180789396,382176531,807895636,1707837203,3610252689,7631830480",
    "name": "The number of permutations p of {1,...,n} such that p(1)=1, p(n)=n, and |p(i)-p(i+1)| is in {1,2,3} for all i from 1 to n-1.",
    "link": [
        "Andrew Woods, <a href=\"/A249665/b249665.txt\">Table of n, a(n) for n = 1..250</a>"
    ],
    "formula": [
        "Let a(1)=1, g(1)=h(1)=0. For all n<1, let a(n)=g(n)=h(n)=0. Then:",
        "a(n) = a(n-1) + g(n-1) + h(n-1),",
        "g(n) = a(n-2) + a(n-3) + a(n-4) - a(n-6) + g(n-2) + g(n-4) + h(n-2),",
        "h(n) = 2*a(n-3) + 2*a(n-4) + a(n-5) - a(n-7) + g(n-3) + g(n-5) + h(n-3).",
        "Alternatively, let a(1)=1, a(n)=0 for n<1. Let b(1)=1, b(2)=0, b(3)=1, b(4)=3, b(5)=4, b(6)=5, b(7)=7, b(8)=10, and b(n)=b(n-1)+b(n-3) for n>8. Then:",
        "a(n) = a(n-1)*b(1) + a(n-2)*b(2) + a(n-3)*b(3) + ... + a(1)*b(n-1).",
        "Conjectures from _Colin Barker_, Mar 07 2015: (Start)",
        "a(n) = 2*a(n-1)-a(n-2)+2*a(n-3)+a(n-4)+a(n-5)-a(n-7)-a(n-8).",
        "G.f.: -x*(x^3+x-1) / (x^8+x^7-x^5-x^4-2*x^3+x^2-2*x+1).",
        "(End)"
    ],
    "example": [
        "For n = 5, the a(5) = 6 solutions are 123456, 132456, 134256, 135246, 142356, and 143256."
    ],
    "xref": [
        "Cf. A174700."
    ],
    "keyword": "nonn",
    "offset": "1,4",
    "author": "_Andrew Woods_, Mar 06 2015",
    "references": 1,
    "revision": 40,
    "time": "2015-03-25T01:54:37-04:00",
    "created": "2015-03-25T01:54:37-04:00"
}