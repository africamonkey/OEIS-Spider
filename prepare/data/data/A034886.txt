{
    "number": 34886,
    "data": "1,1,1,1,2,3,3,4,5,6,7,8,9,10,11,13,14,15,16,18,19,20,22,23,24,26,27,29,30,31,33,34,36,37,39,41,42,44,45,47,48,50,52,53,55,57,58,60,62,63,65,67,68,70,72,74,75,77,79,81,82,84,86,88,90,91,93,95,97,99,101,102",
    "name": "Number of digits in n!.",
    "comment": [
        "Most counterexamples to the Kamenetsky formula (see below) must belong to A177901.",
        "Noam D. Elkies reported on MathOverflow (see link):",
        "\"A counterexample [to Kamenetsky's formula] is n_1 := 6561101970383, with log_10((n_1/e)^n_1*sqrt(2*Pi*n_1) = 81244041273652.999999999999995102483-, but log10(n_1!) = 81244041273653.000000000000000618508+. [...] n_1 is the first counterexample, and the only one up to 10^14.\""
    ],
    "reference": [
        "Gardner, M. \"Factorial Oddities.\" Ch. 4 in Mathematical Magic Show: More Puzzles, Games, Diversions, Illusions and Other Mathematical Sleight-of-Mind from Scientific American. New York: Vintage, pp. 50-65, 1978"
    ],
    "link": [
        "T. D. Noe, <a href=\"/A034886/b034886.txt\">Table of n, a(n) for n = 0..10000</a>",
        "<a href=\"/index/Fa#factorial\">Index entries for sequences related to factorial numbers</a>.",
        "Noam D. Elkies, <a href=\"http://mathoverflow.net/questions/19170\">A counterexample to Kamenetsky's formula for the number of digits in n-factorial</a>.",
        "Wikipedia, <a href=\"http://en.wikipedia.org/wiki/Stirling&#39;s_approximation\">Stirling's Formula</a>."
    ],
    "formula": [
        "a(n) = floor(log(n!)/log(10)) + 1",
        "a(n) = A027869(n) + A079680(n) + A079714(n) + A079684(n) + A079688(n) + A079690(n) + A079691(n) + A079692(n) + A079693(n) + A079694(n); a(n) = A055642(A000142(n)). - _Reinhard Zumkeller_, Jan 27 2008",
        "Using Stirling's formula we can derive an approximation, which is very fast to compute in practice: ceiling(log(2*pi*n)/2+n*(log(n/e))), where log is the logarithm base 10. This approximation gives the exact answer for 2<=n<=5*10^7. - _Dmitry Kamenetsky_, Jul 07 2008",
        "a(n) = ceiling(log10(1) + log10(2) + ... + log10(n)), where log10 is the logarithm base 10. [_Dmitry Kamenetsky_, Nov 05 2010]"
    ],
    "maple": [
        "A034886 := n -> `if`(n<2,1,`if`(n<6561101970383, ceil((ln(2*Pi)-2*n+ln(n)*(1+2*n))/(2*ln(10))),length(n!))); # _Peter Luschny_, Aug 26 2011"
    ],
    "mathematica": [
        "Join[{1, 1}, Table[Ceiling[Log[10, 2 Pi n]/2 + n*Log[10, n/E]], {n, 2, 71}]]",
        "f[n_] := Floor[(Log[2Pi] - 2n + Log[n]*(1 + 2n))/(2Log[10])] + 1; f[0] = f[1] = 1; Array[f, 72, 0] (* _Robert G. Wilson v_, Jan 09 2013 *)"
    ],
    "program": [
        "(Haskell)",
        "a034886 = a055642 . a000142  -- _Reinhard Zumkeller_, Apr 08 2012",
        "(PARI) for(n=0,30, print1(floor(log(n!)/log(10)) + 1, \", \")) \\\\ _G. C. Greubel, Feb 26 2018",
        "(MAGMA) [Floor(Log(Factorial(n))/Log(10)) + 1: n in [0..30]]; // _G. C. Greubel_, Feb 26 2018"
    ],
    "xref": [
        "Cf. A137580 (distinct digits)."
    ],
    "keyword": "nonn,base,easy,changed",
    "offset": "0,5",
    "author": "_Erich Friedman_",
    "ext": [
        "Explained that the formula is an approximation. Made the formula easier to read. _Dmitry Kamenetsky_, Dec 15 2010"
    ],
    "references": 31,
    "revision": 52,
    "time": "2018-02-27T02:56:17-05:00",
    "created": "1999-12-11T03:00:00-05:00"
}