{
    "number": 99880,
    "data": "0,2,18,260,5250,136332,4327092,162309576,7024896450,344582629820,18890850749628,1144656941236536,75963981061424820,5479642938171428600,426894499408073653800,35720957482170932284560,3195135789350678836128450",
    "name": "Number of preferential arrangements (or simple hierarchies) of 2*n labeled elements with two kinds of elements (where each kind has n elements).",
    "comment": [
        "The unlabeled case seems to be given by A003480, which can be generated by the following combstruct command: SeqUnionU := [S, {S=Sequence(Set(U,card>=1),card>=1), U=Union(a,b),a=Atom, b=Atom},unlabeled]; [seq(count(SeqUnionU, size=n), n=0..20)];",
        "Apart from the first term these numbers appear to show up in the middle of the even-numbered rows in triangle A154921. [_Mats Granvik_, Feb 07 2009]"
    ],
    "formula": [
        "a(n) = binomial(2*n, n) * Sum_{k=1..n} k! * Stirling2(n, k) = binomial(2*n, n)*A000670(n).",
        "Note: a_0(n) = Sum_{k=0..n} k! * Stirling2(n, k) * binomial(2*n, n) gives 1, 2, 18, 260, 5250, 136332, 4327092, 162309576, ...",
        "a(0) = 1, a(n) = Sum_i=1^n Sum_k=1^i ((2*i)!/i!)*(1/k!)*((i-k)!/(2*(i-k))!) * a(i-k)."
    ],
    "example": [
        "Let a[1], a[2],...,a[n] and b[1],b[2],...,b[n] denote two kinds \"a\" and \"b\" of labeled elements where each kind as n elements in total.",
        "Let \":\" denote a level, e.g., if the elements a[1] and a[2] are on level L=1 and the element b[1] is on level L=2 then a[1]a[2]:b[1] is a preferrential arrangement (a simple hierarchy) with two levels.",
        "Then for n=2 we have a(2) = 18 arrangements: a[1]a[2]; a[1]:a[2]; a[2]:a[1]; a[1]b[1]; a[1]:b[1]; b[1]:a[1]; a[1]b[2]; a[1]:b[2]; b[2]:a[1]; a[2]b[1]; a[2]:b[1]; b[1]:a[2]; a[2]b[2]; a[2]:b[2]; b[2]:a[2]; b[1]b[2]; b[1]:b[2]; b[2]:b[1]."
    ],
    "maple": [
        "main := proc(n::integer) local a, level, Summe; with(combinat): Summe := 0; for level from 1 to n do Summe := Summe + level! * stirling2(n,level) * binomial(2*n,n);; end do; a := Summe; print(\"n, a(n):\",n,a); end proc;",
        "A099880 := proc(n::integer) local i, k, a, Summe; with(combinat): a[0] := 1; for i from 1 to n do Summe := 0; for k from 1 to i do Summe := Summe + ((2*i)!/i!)*(1/k!)*((i-k)!/(2*(i-k))!) * a[i-k]; end do; a[i] := Summe; end do; a[n] := Summe; print(\"A099880(n) = \",a[n]); end proc;",
        "a:=n->sum(binomial(2*n,n)*(stirling2(n,k))*k!, k=1..n):seq(a(n),n=0..16); # _Zerinvary Lajos_, Oct 19 2006"
    ],
    "mathematica": [
        "f[n_] := Sum[l! StirlingS2[n, l] Binomial[2n, n], {l, n}]; Table[ f[n], {n, 0, 16}] (* _Robert G. Wilson v_, Nov 04 2004 *)"
    ],
    "xref": [
        "Cf. A000670, A075729, A003480."
    ],
    "keyword": "nonn",
    "offset": "0,2",
    "author": "_Thomas Wieder_, Nov 02 2004",
    "ext": [
        "More terms from _Robert G. Wilson v_, Nov 04 2004"
    ],
    "references": 2,
    "revision": 17,
    "time": "2015-07-29T06:04:44-04:00",
    "created": "2005-02-20T03:00:00-05:00"
}